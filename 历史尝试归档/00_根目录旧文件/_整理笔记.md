# 历史尝试整理笔记

## 批量生成完整时间线

### 2025-10-15 时间线（根据文件夹创建时间）

**凌晨00:18** - questions_test (测试)
- 目录：`questions_test/` 
- 论文数：2篇
- 用途：批量生成前的测试验证

**上午07:27-07:29** - 硅基流动第一批（中文）
- 目录：`questions/` (199篇) + `questions copy/` (298篇)
- API：SiliconFlow (Qwen模型)
- 特点：第一次大规模批量，分两个阶段完成

**上午10:57** - 倒序生成批次
- 目录：`question_reverse/`
- 论文数：247篇
- API：可能是SiliconFlow
- 特点：倒序处理论文（具体策略待确认）

**下午16:10** - DeepSeek英文批次 (**07_第六次尝试**)
- 目录：`question_english/`
- 论文数：298篇
- API：DeepSeek官方API
- 脚本：`deepseek_english_generator.py`
- 特点：切换到英文prompt（因发现中文prompt效果不好）

**晚上19:53** - 英文备份
- 目录：`question_english copy/`
- 用途：备份英文生成结果

**之后** - DeepSeek智能中文批次 (**08_第八次尝试**)
- 目录：`questions_deepseek/`
- API：DeepSeek官方API
- 脚本：`deepseek_intelligent_generator.py`
- 特点：智能重试机制

**最终** - 汇总所有批次
- 脚本：`consolidate_and_complete.py`
- 输出：`question_all/` (JSON格式，按论文组织)
- 内容：合并questions、questions copy、question_reverse、question_english等所有批次
- 后处理：`extract_questions_to_md.py` 提取为 `question_all_md/`（Markdown格式）

### API使用总结

**SiliconFlow API（Qwen模型）**：
- 01-06: 单篇测试（milestone1_*.py）
- questions + questions copy: 第一批大规模生成
- question_reverse: 倒序批次

**DeepSeek官方API（deepseek-chat）**：
- 07: question_english（英文批次）
- 08: questions_deepseek（智能中文批次）

### 数据流转

```
硅基流动批次 ─┐
              ├─→ consolidate_and_complete.py ─→ question_all/ ─→ extract_to_md ─→ question_all_md/
DeepSeek批次 ─┘
```

## 已确认信息

### 单篇测试阶段（01-04）
- **01_基础生成**: 1篇论文 → 20题
- **02_对比生成**: 1篇论文 → 20题  
- **03_保留原文**: 1篇论文 → 20题
- **04_详细问题**: 1篇论文 → 5题（详细答案版本）

### 批量生成阶段（根据时间戳和注释确认）

#### 时间线（2025-10-15）：
根据文件夹创建时间 + organize_question_dirs.py注释：

1. **questions_test** (0:18) - 测试批次，2篇论文
2. **questions copy** (7:27) - 第三批补全，298篇
3. **questions** (7:29) - 第一批生成（SiliconFlow API），199篇
4. **question_reverse** (10:57) - 倒序生成批次，247篇
5. **question_english** (16:10) - 英文版生成尝试，298篇
6. **question_english copy** (19:53) - 英文版副本（备份）

#### 汇总版本：
- **question_all/** - 所有数据合并（JSON格式，按论文组织）
- **question_all_md/** - Markdown版本（从question_all提取）
- 提取脚本：extract_questions_to_md.py（读取各论文文件夹的pass.json）
- 注：question_all文件夹当前不在根目录，可能已移动/删除

#### 模型使用规律：
- 硅基流动肯定在DeepSeek之前
- V3模型在V3.2之前
- 英文生成在智能中文之后（发现中文prompt没用）

#### 旧生成数据文件夹内容：
- questions/ - 199个子文件夹
- questions copy/ - 298个子文件夹
- questions_test/ - 2个子文件夹（测试）
- question_english/ - 298个子文件夹
- question_english copy/ - 298个子文件夹
- question_reverse/ - 247个子文件夹

### 待确认问题：
**已全部确认！** ✅

### 批量生成历史映射：

根据脚本分析和时间戳，批量生成顺序和对应关系如下：

1. **questions_test** (0:18) → 测试批次，2篇论文
2. **questions** (7:29) → 硅基流动第一批中文，199篇
3. **questions copy** (7:27创建但7:29才真正使用) → 硅基流动第三批补全，298篇
4. **question_reverse** (10:57) → 倒序生成批次（中文），247篇
5. **question_english** (16:10) → **07_DeepSeek英文生成**，298篇
6. **questions_deepseek** (默认输出) → **08_DeepSeek智能中文**（智能重试版本）
7. **question_all** → 所有批次的汇总版本（JSON，按论文组织）
8. **question_all_md** → 从question_all提取的Markdown版本

### 脚本到输出映射：
- `milestone1_*.py` (01-06) → 使用SiliconFlow API（Qwen）
- `deepseek_english_generator.py` → `question_english/` (07)
- `deepseek_intelligent_generator.py` → `questions_deepseek/` (08)
- `batch_detail_q_generator.py` → 各批次（09）
- `consolidate_and_complete.py` → 合并到 `question_all/`
- `extract_questions_to_md.py` → 从question_all提取为 `question_all_md/`

### 关键发现：
- 硅基流动API批次：questions(199) + questions copy(298) + reverse(247)
- DeepSeek官方API批次：question_english(298) + questions_deepseek
- 英文生成确实在智能中文之后（文件夹时间戳证实）
- question_all是最终汇总版本，合并了所有批次的pass.json

### 脚本分配（已完成）：
- deepseek_english_generator.py → 07
- deepseek_intelligent_generator.py → 08
- batch_detail_q_generator.py → 09
